<!DOCTYPE HTML>
<html lang="en">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="JAIN SLEE架构梳理, 陈杨‘s blog">
    <meta name="description" content="Every step is worth a thousand miles">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>JAIN SLEE架构梳理 | 陈杨‘s blog</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>
    
<meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="陈杨‘s blog" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">陈杨‘s blog</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">

      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>知识体系</span>
      <i class="fas fa-chevron-down" aria-hidden="true" style="zoom: 0.6;"></i>
    </a>
    <ul class="sub-nav menus_item_child ">
      
      <li>
        <a href="/categories/signaling">
          
          <i class="fas fa-bookmark" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>信令与协议</span>
        </a>
      </li>
      
      <li>
        <a href="/categories/media">
          
          <i class="fas fa-bookmark" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>媒体与承载</span>
        </a>
      </li>
      
      <li>
        <a href="/categories/networkArchitecture">
          
          <i class="fas fa-bookmark" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>网络</span>
        </a>
      </li>
      
      <li>
        <a href="/categories/backend">
          
          <i class="fas fa-bookmark" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>后端</span>
        </a>
      </li>
      
      <li>
        <a href="/categories/frontend">
          
          <i class="fas fa-bookmark" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>前端</span>
        </a>
      </li>
      
      <li>
        <a href="/categories/database">
          
          <i class="fas fa-bookmark" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>数据库</span>
        </a>
      </li>
      
      <li>
        <a href="/categories/projectManage">
          
          <i class="fas fa-bookmark" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>项目管理</span>
        </a>
      </li>
      
      <li>
        <a href="/categories/systemarchitecture">
          
          <i class="fas fa-bookmark" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>系统架构</span>
        </a>
      </li>
      
    </ul>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories/Traval" class="waves-effect waves-light">

      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>游记</span>
      <i class="fas fa-chevron-down" aria-hidden="true" style="zoom: 0.6;"></i>
    </a>
    <ul class="sub-nav menus_item_child ">
      
      <li>
        <a href="/categories/Traval/Domestic">
          
          <i class="fas fa-bookmark" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>国内</span>
        </a>
      </li>
      
      <li>
        <a href="/categories/Traval/EastAsia">
          
          <i class="fas fa-bookmark" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>东亚</span>
        </a>
      </li>
      
      <li>
        <a href="/categories/Traval/Europe">
          
          <i class="fas fa-bookmark" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>欧洲</span>
        </a>
      </li>
      
      <li>
        <a href="/categories/Traval/Oceania">
          
          <i class="fas fa-bookmark" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>大洋洲</span>
        </a>
      </li>
      
      <li>
        <a href="/categories/Traval/SoutheastAsia">
          
          <i class="fas fa-bookmark" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>东南亚</span>
        </a>
      </li>
      
      <li>
        <a href="/categories/Traval/SouthAsia">
          
          <i class="fas fa-bookmark" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>南亚</span>
        </a>
      </li>
      
      <li>
        <a href="/categories/Traval/FindBeers">
          
          <i class="fas fa-bookmark" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>喝遍天下啤酒</span>
        </a>
      </li>
      
    </ul>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories/read" class="waves-effect waves-light">

      
      <i class="fas fa-book" style="zoom: 0.6;"></i>
      
      <span>读书&随笔</span>
      <i class="fas fa-chevron-down" aria-hidden="true" style="zoom: 0.6;"></i>
    </a>
    <ul class="sub-nav menus_item_child ">
      
      <li>
        <a href="/categories/read/summary">
          
          <i class="fas fa-bookmark" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>读书总结</span>
        </a>
      </li>
      
      <li>
        <a href="/categories/read/essay">
          
          <i class="fas fa-bookmark" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>随笔</span>
        </a>
      </li>
      
    </ul>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>git</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>作者</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="Search" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">陈杨‘s blog</div>
        <div class="logo-desc">
            
            Every step is worth a thousand miles
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa-fw fas fa-bookmark"></i>
			
			知识体系
			<span class="m-icon"><i class="fas fa-chevron-right"></i></span>
		</a>
            <ul  style="background:  ;" >
              
                <li>   
				
                  <a href="/categories/signaling " style="margin-left:75px";>
				  
				   <i class="fa fas fa-bookmark" style="position: absolute;left:50px" ></i>
			      
		          <span>信令与协议</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/media " style="margin-left:75px";>
				  
				   <i class="fa fas fa-bookmark" style="position: absolute;left:50px" ></i>
			      
		          <span>媒体与承载</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/networkArchitecture " style="margin-left:75px";>
				  
				   <i class="fa fas fa-bookmark" style="position: absolute;left:50px" ></i>
			      
		          <span>网络</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/backend " style="margin-left:75px";>
				  
				   <i class="fa fas fa-bookmark" style="position: absolute;left:50px" ></i>
			      
		          <span>后端</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/frontend " style="margin-left:75px";>
				  
				   <i class="fa fas fa-bookmark" style="position: absolute;left:50px" ></i>
			      
		          <span>前端</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/database " style="margin-left:75px";>
				  
				   <i class="fa fas fa-bookmark" style="position: absolute;left:50px" ></i>
			      
		          <span>数据库</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/projectManage " style="margin-left:75px";>
				  
				   <i class="fa fas fa-bookmark" style="position: absolute;left:50px" ></i>
			      
		          <span>项目管理</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/systemarchitecture " style="margin-left:75px";>
				  
				   <i class="fa fas fa-bookmark" style="position: absolute;left:50px" ></i>
			      
		          <span>系统架构</span>
                  </a>
                </li>
               
            </ul>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa-fw fas fa-tags"></i>
			
			游记
			<span class="m-icon"><i class="fas fa-chevron-right"></i></span>
		</a>
            <ul  style="background:  ;" >
              
                <li>   
				
                  <a href="/categories/Traval/Domestic " style="margin-left:75px";>
				  
				   <i class="fa fas fa-bookmark" style="position: absolute;left:50px" ></i>
			      
		          <span>国内</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/Traval/EastAsia " style="margin-left:75px";>
				  
				   <i class="fa fas fa-bookmark" style="position: absolute;left:50px" ></i>
			      
		          <span>东亚</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/Traval/Europe " style="margin-left:75px";>
				  
				   <i class="fa fas fa-bookmark" style="position: absolute;left:50px" ></i>
			      
		          <span>欧洲</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/Traval/Oceania " style="margin-left:75px";>
				  
				   <i class="fa fas fa-bookmark" style="position: absolute;left:50px" ></i>
			      
		          <span>大洋洲</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/Traval/SoutheastAsia " style="margin-left:75px";>
				  
				   <i class="fa fas fa-bookmark" style="position: absolute;left:50px" ></i>
			      
		          <span>东南亚</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/Traval/SouthAsia " style="margin-left:75px";>
				  
				   <i class="fa fas fa-bookmark" style="position: absolute;left:50px" ></i>
			      
		          <span>南亚</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/Traval/FindBeers " style="margin-left:75px";>
				  
				   <i class="fa fas fa-bookmark" style="position: absolute;left:50px" ></i>
			      
		          <span>喝遍天下啤酒</span>
                  </a>
                </li>
               
            </ul>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa-fw fas fa-book"></i>
			
			读书&随笔
			<span class="m-icon"><i class="fas fa-chevron-right"></i></span>
		</a>
            <ul  style="background:  ;" >
              
                <li>   
				
                  <a href="/categories/read/summary " style="margin-left:75px";>
				  
				   <i class="fa fas fa-bookmark" style="position: absolute;left:50px" ></i>
			      
		          <span>读书总结</span>
                  </a>
                </li>
              
                <li>   
				
                  <a href="/categories/read/essay " style="margin-left:75px";>
				  
				   <i class="fa fas fa-bookmark" style="position: absolute;left:50px" ></i>
			      
		          <span>随笔</span>
                  </a>
                </li>
               
            </ul>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			git
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			作者
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>

        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/14.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">JAIN SLEE架构梳理</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/backend/">
                                <span class="chip bg-color">backend</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/backend/" class="post-category">
                                backend
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>Publish Date:&nbsp;&nbsp;
                    2020-04-16
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>Update Date:&nbsp;&nbsp;
                    2020-04-20
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>Word Count:&nbsp;&nbsp;
                    2.3k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>Read Times:&nbsp;&nbsp;
                    13 Min
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>Read Count:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>

        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h2 id="一、介绍"><a href="#一、介绍" class="headerlink" title="一、介绍"></a>一、介绍</h2><p>1、JAIN SLEE is the specification for a Java Service Logic and Execution Environment (SLEE) architecture</p>
<p>2、A SLEE is an application server, or service container, which defines a component model for structuring the logic of communications services as a collection of reusable components, and for combining these components into even more sophisticated services. </p>
<p>3、Restcomm JAIN SLEE is the first and only open source platform certified for JAIN SLEE 1.1 compliance, providing a highly scalable, event-driven application server with a robust component model and a fault tolerant execution environment.</p>
<p><img src="/images/pasted-484.png" alt=""></p>
<h2 id="二、从源码安装编译"><a href="#二、从源码安装编译" class="headerlink" title="二、从源码安装编译"></a>二、从源码安装编译</h2><p>1、准备环境：足够的空间&gt;500M和java运行环境</p>
<p>2、下载源码</p>
<pre class=" language-bash"><code class="language-bash"><span class="token punctuation">[</span>usr<span class="token punctuation">]</span>$ <span class="token function">git</span> clone https://github.com/RestComm/jain-slee restcomm-jain-slee-release
<span class="token punctuation">[</span>usr<span class="token punctuation">]</span>$ <span class="token function">cd</span> restcomm-jain-slee-release
<span class="token punctuation">[</span>usr<span class="token punctuation">]</span>$ <span class="token function">git</span> checkout tags/7.0.0-SNAPSHOT
<span class="token punctuation">[</span>usr<span class="token punctuation">]</span>$ <span class="token function">cd</span> release</code></pre>
<p>3、编译<br>Apache Ant 1.6 (or higher) and Maven 2.0.9 (or higher) is used to build the release.</p>
<pre class=" language-bash"><code class="language-bash"><span class="token punctuation">[</span>usr<span class="token punctuation">]</span>$ ant</code></pre>
<p>Once the process finishes you should have a restcomm-slee-7.0.0-SNAPSHOT.zip file</p>
<p>4、安装二进制文件<br>unzip<br>Setting up JBOSS_HOME Environment Variable</p>
<h2 id="三、配置和运行jslee"><a href="#三、配置和运行jslee" class="headerlink" title="三、配置和运行jslee"></a>三、配置和运行jslee</h2><p>1、WildFly can be booted in two different modes.Standalone Server and Managed Domain</p>
<p>2、Standalone Server<br>For many use cases, the centralized management capability available via a managed domain is not necessary. For these use cases, a WildFly instance can be run as a standalone server. </p>
<p>3、Managed Domain<br>One of the primary new features of WildFly is the ability to manage multiple WildFly instances from a single control point.</p>
<h3 id="3-1-starting"><a href="#3-1-starting" class="headerlink" title="3.1 starting"></a>3.1 starting</h3><h4 id="3-1-1、先配置启动jboss"><a href="#3-1-1、先配置启动jboss" class="headerlink" title="3.1.1、先配置启动jboss"></a>3.1.1、先配置启动jboss</h4><h4 id="3-1-2、再配置启动JAIN-SLEE"><a href="#3-1-2、再配置启动JAIN-SLEE" class="headerlink" title="3.1.2、再配置启动JAIN SLEE"></a>3.1.2、再配置启动JAIN SLEE</h4><p>JAIN SLEE is deployed as WildFly extension and is configured through an standalone.xml. This file is located at $JBOSS_HOME/standalone/configuration.</p>
<h4 id="3-1-3、配置事件上下文"><a href="#3-1-3、配置事件上下文" class="headerlink" title="3.1.3、配置事件上下文"></a>3.1.3、配置事件上下文</h4><p>EventContext Factory Configuration</p>
<h4 id="3-1-4、事件路由配置"><a href="#3-1-4、事件路由配置" class="headerlink" title="3.1.4、事件路由配置"></a>3.1.4、事件路由配置</h4><p>1、The JAIN SLEE Event Router is the module responsible for creating new service instances and delivering events to all interested parties. </p>
<p>2、The Event Router is also able to account performance and load statistics</p>
<p>3、Statistics are turned on by default and may be retrieved through the JMX MBean org.mobicents.slee:name=EventRouterStatistics.</p>
<p>4、The whole Event Router is a critical component with respect to the container’s performance. Its configuration can be tuned, through an XML file and a JMX MBean.</p>
<p>5、！！！Event Router Persistent Configuration</p>
<p>JAIN SLEE is deployed as WildFly extension and is configured through an standalone.xml. This file is located at $JBOSS_HOME/standalone/configuration.</p>
<p>The configuration is exposed a JBoss Microcontainer Bean:</p>
<pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>mbean name<span class="token operator">=</span><span class="token string">"EventRouterConfiguration"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"eventRouterThreads"</span> value<span class="token operator">=</span><span class="token string">"8"</span> /<span class="token operator">></span>
    <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"collectStats"</span> value<span class="token operator">=</span><span class="token string">"true"</span> /<span class="token operator">></span>
    <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"confirmSbbEntityAttachement"</span> value<span class="token operator">=</span><span class="token string">"true"</span> /<span class="token operator">></span>
    <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"executorMapperClassName"</span> value<span class="token operator">=</span><span class="token string">"org.mobicents.slee.runtime.eventrouter.mapping.ActivityHashingEventRouterExecutorMapper"</span> /<span class="token operator">></span>
<span class="token operator">&lt;</span>/mbean<span class="token operator">></span></code></pre>
<p><img src="/images/pasted-485.png" alt=""></p>
<p>6、Through JMX, the Event Router module configuration can be changed while the container is running. These configuration changes are not persisted.<br>【JMX（Java Management Extensions，即Java管理扩展）是一个为应用程序、设备、系统等植入管理功能的框架。JMX可以跨越一系列异构操作系统平台、系统体系结构和网络传输协议，灵活的开发无缝集成的系统、网络和服务管理应用。】</p>
<p>The JMX MBean that can be used to change the Event Router configuration is named org.mobicents.slee:name=EventRouterConfiguration, and provides getters and setters to change each property defined in the persistent configuration.</p>
<p>7、Timer Facility Configuration<br>The JAIN SLEE Timer Facility is the module responsible for managing SLEE timers, and the number of threads it uses is configurable.</p>
<p>The Timer Facility configuration can be changed through an XML file and a JMX MBean.</p>
<p>7.1 Timer Facility Persistent Configuration<br>JAIN SLEE is deployed as WildFly extension and is configured through an standalone.xml. This file is located at $JBOSS_HOME/standalone/configuration.</p>
<p>The configuration is exposed a JBoss Microcontainer Bean:</p>
<pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>mbean name<span class="token operator">=</span><span class="token string">"TimerFacilityConfiguration"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"timerThreads"</span> value<span class="token operator">=</span><span class="token string">"4"</span> /<span class="token operator">></span>
<span class="token operator">&lt;</span>/mbean<span class="token operator">></span></code></pre>
<p><img src="/images/pasted-486.png" alt=""><br>7.2 Timer Facility JMX Configuration<br>Through JMX the Timer Facility module configuration can be changed with the container running. Note that such configuration changes are not persisted.</p>
<p>The JMX MBean which can be used to change the Timer Facility configuration is named org.mobicents.slee:name=TimerFacilityConfiguration, and provides getters and setters to change each property defined in the persistent configuration.</p>
<p>The JConsole can be used to use this MBean, see JConsole.</p>
<p>7.3 Configuring JAIN SLEE Profiles<br>JAIN SLEE Profiles is a component used to store data, usually related with a user and/or service profile. JAIN SLEE maps JAIN SLEE Profiles to a Java Persistence API (JPA) Datasource, through Hibernate.</p>
<p>There is configuration for JAIN SLEE Profiles provided as JBoss Microcontainer Beans:</p>
<pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>mbean name<span class="token operator">=</span><span class="token string">"H2DBConfig"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"persistProfiles"</span> value<span class="token operator">=</span><span class="token string">"true"</span> /<span class="token operator">></span>
    <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"clusteredProfiles"</span> value<span class="token operator">=</span><span class="token string">"false"</span> /<span class="token operator">></span>
    <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"hibernateDatasource"</span> value<span class="token operator">=</span><span class="token string">"java:jboss/datasources/ExampleDS"</span> /<span class="token operator">></span>
    <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"hibernateDialect"</span> value<span class="token operator">=</span><span class="token string">"org.hibernate.dialect.H2Dialect"</span> /<span class="token operator">></span>
<span class="token operator">&lt;</span>/mbean<span class="token operator">></span>
<span class="token operator">&lt;</span>mbean name<span class="token operator">=</span><span class="token string">"PostgreDBConfig"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"persistProfiles"</span> value<span class="token operator">=</span><span class="token string">"true"</span> /<span class="token operator">></span>
    <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"clusteredProfiles"</span> value<span class="token operator">=</span><span class="token string">"false"</span> /<span class="token operator">></span>
    <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"hibernateDatasource"</span> value<span class="token operator">=</span><span class="token string">"java:jboss/datasources/PostgreDS"</span> /<span class="token operator">></span>
    <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"hibernateDialect"</span> value<span class="token operator">=</span><span class="token string">"org.hibernate.dialect.PostgreSQL94Dialect"</span> /<span class="token operator">></span>
    <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"datasourceServiceName"</span> value<span class="token operator">=</span><span class="token string">"PostgreDS"</span> /<span class="token operator">></span>
<span class="token operator">&lt;</span>/mbean<span class="token operator">></span>
<span class="token operator">&lt;</span>mbean name<span class="token operator">=</span><span class="token string">"ProfileManagement"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"dbConfigMBean"</span> value<span class="token operator">=</span><span class="token string">"PostgreDBConfig"</span> /<span class="token operator">></span>
<span class="token operator">&lt;</span>/mbean<span class="token operator">></span></code></pre>
<p><img src="/images/pasted-488.png" alt=""></p>
<p>7.4 Other Configurations<br>Other JAIN SLEE runtime configuration is done through the following JBoss Microcontainer Bean:</p>
<pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>mbean name<span class="token operator">=</span><span class="token string">"MobicentsManagement"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"entitiesRemovalDelay"</span> value<span class="token operator">=</span><span class="token string">"1"</span> /<span class="token operator">></span>
    <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"initializeReferenceDataTypesWithNull"</span> value<span class="token operator">=</span><span class="token string">"true"</span> /<span class="token operator">></span>
<span class="token operator">&lt;</span>/mbean<span class="token operator">></span></code></pre>
<p><img src="/images/pasted-489.png" alt=""></p>
<h2 id="四、管理SLEE"><a href="#四、管理SLEE" class="headerlink" title="四、管理SLEE"></a>四、管理SLEE</h2><h3 id="4-1-Managing-JAIN-SLEE-Components"><a href="#4-1-Managing-JAIN-SLEE-Components" class="headerlink" title="4.1 Managing JAIN SLEE Components"></a>4.1 Managing JAIN SLEE Components</h3><h4 id="4-1-1-Persistent-Deployable-Unit-Management"><a href="#4-1-1-Persistent-Deployable-Unit-Management" class="headerlink" title="4.1.1. Persistent Deployable Unit Management"></a>4.1.1. Persistent Deployable Unit Management</h4><p>JAIN SLEE provides a file deployer that greatly simplifies the management of JAIN SLEE deployable unit jars. The deployer:<br>1）Handles the installation of enclosed JAIN SLEE components.</p>
<p>2）Automatically activates and deactivates services contained.</p>
<p>3）Handles the creation, removal, activation, deactivation, link binding and link unbinding of all Resource Adapter Entities.</p>
<p>All operations are persistent, which means that unlike management done through JMX, these survive server shutdowns.</p>
<h4 id="4-1-2-Persistent-Deployable-Unit-Install"><a href="#4-1-2-Persistent-Deployable-Unit-Install" class="headerlink" title="4.1.2 Persistent Deployable Unit Install"></a>4.1.2 Persistent Deployable Unit Install</h4><p>To install a deployable unit jar simply copy the file to $JBOSS_HOME/standalone/deployments/. Child directories can be used.</p>
<h4 id="4-1-3-Persistent-Deployable-Unit-Uninstall"><a href="#4-1-3-Persistent-Deployable-Unit-Uninstall" class="headerlink" title="4.1.3 Persistent Deployable Unit Uninstall"></a>4.1.3 Persistent Deployable Unit Uninstall</h4><p>To uninstall a deployable unit jar simply delete the file.</p>
<h4 id="4-1-4-Beyond-Deployable-Unit-Un-Install"><a href="#4-1-4-Beyond-Deployable-Unit-Un-Install" class="headerlink" title="4.1.4 Beyond Deployable Unit (Un)Install"></a>4.1.4 Beyond Deployable Unit (Un)Install</h4><p>The file deployer provides additional behavior then simply (un)install deployable unit jars, as done through the JAIN SLEE 1.1 DeploymentMBean:</p>
<p>Service (De)Activation<br>All services contained in the deployable unit jar are activated after the install, and deactivated prior to uninstall. On service activation, if there is an active service in the SLEE, with same service name and vendor, then it is considered an older version, and the SLEE deactivates it. The deactivation of the old, and activation of the new, is done smoothly in a single operation, allowing service upgrades with no down time.</p>
<p>Dependencies Management<br>The deployer puts the installation process on hold until all of the component’s dependencies are installed and activated. When uninstalling, it waits for all of the components which depend on components inside the deployable unit to be uninstalled. After an install or uninstall, the deployer evaluates all operations on hold.</p>
<h4 id="4-1-5-Deploy-Config-Extension"><a href="#4-1-5-Deploy-Config-Extension" class="headerlink" title="4.1.5. Deploy-Config Extension"></a>4.1.5. Deploy-Config Extension</h4><p>A deployable unit jar may include a deploy-config.xml file in its META-INF/ directory. This file provides additional management actions for persistent install/uninstall operations:</p>
<p>Resource Adaptor Entity Management<br>It is possible to specify RA entities, and the container will create and activate the RA entities after the deployable unit is installed. During the uninstall process, the container will deactivate and remove those RA entities.</p>
<p>Resource Adaptor Links Management<br>It is possible to specify RA links, and the container will bind those after the deployable unit is installed. When uninstalled, the container will unbind those RA links as well. The links are set for resource adapter entities created in the deploy-config.xml file.</p>
<p>This file should comply with the following schema:</p>
<pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>?xml version<span class="token operator">=</span><span class="token string">"1.0"</span> encoding<span class="token operator">=</span><span class="token string">"UTF-8"</span> ?<span class="token operator">></span>

<span class="token operator">&lt;</span>xs:schema xmlns:xs<span class="token operator">=</span><span class="token string">"http://www.w3.org/2001/XMLSchema"</span><span class="token operator">></span>
  <span class="token operator">&lt;</span>xs:element name<span class="token operator">=</span><span class="token string">"deploy-config"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>xs:complexType<span class="token operator">></span>
      <span class="token operator">&lt;</span>xs:sequence<span class="token operator">></span>
        <span class="token operator">&lt;</span>xs:element ref<span class="token operator">=</span><span class="token string">"ra-entity"</span> maxOccurs<span class="token operator">=</span><span class="token string">"unbounded"</span> minOccurs<span class="token operator">=</span><span class="token string">"0"</span>/<span class="token operator">></span>
      <span class="token operator">&lt;</span>/xs:sequence<span class="token operator">></span>
    <span class="token operator">&lt;</span>/xs:complexType<span class="token operator">></span>
  <span class="token operator">&lt;</span>/xs:element<span class="token operator">></span>

  <span class="token operator">&lt;</span>xs:element name<span class="token operator">=</span><span class="token string">"property"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>xs:complexType<span class="token operator">></span>
      <span class="token operator">&lt;</span>xs:attribute name<span class="token operator">=</span><span class="token string">"name"</span> type<span class="token operator">=</span><span class="token string">"xs:string"</span> use<span class="token operator">=</span><span class="token string">"required"</span> /<span class="token operator">></span>
      <span class="token operator">&lt;</span>xs:attribute name<span class="token operator">=</span><span class="token string">"type"</span> type<span class="token operator">=</span><span class="token string">"xs:string"</span> use<span class="token operator">=</span><span class="token string">"required"</span> /<span class="token operator">></span>
      <span class="token operator">&lt;</span>xs:attribute name<span class="token operator">=</span><span class="token string">"value"</span> type<span class="token operator">=</span><span class="token string">"xs:string"</span> use<span class="token operator">=</span><span class="token string">"required"</span> /<span class="token operator">></span>
    <span class="token operator">&lt;</span>/xs:complexType<span class="token operator">></span>
  <span class="token operator">&lt;</span>/xs:element<span class="token operator">></span>

  <span class="token operator">&lt;</span>xs:element name<span class="token operator">=</span><span class="token string">"properties"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>xs:complexType<span class="token operator">></span>
      <span class="token operator">&lt;</span>xs:sequence<span class="token operator">></span>
        <span class="token operator">&lt;</span>xs:element ref<span class="token operator">=</span><span class="token string">"property"</span> maxOccurs<span class="token operator">=</span><span class="token string">"unbounded"</span> minOccurs<span class="token operator">=</span><span class="token string">"0"</span>/<span class="token operator">></span>
      <span class="token operator">&lt;</span>/xs:sequence<span class="token operator">></span>
      <span class="token operator">&lt;</span>xs:attribute name<span class="token operator">=</span><span class="token string">"file"</span> type<span class="token operator">=</span><span class="token string">"xs:string"</span> use<span class="token operator">=</span><span class="token string">"optional"</span> /<span class="token operator">></span>
    <span class="token operator">&lt;</span>/xs:complexType<span class="token operator">></span>
  <span class="token operator">&lt;</span>/xs:element<span class="token operator">></span>

  <span class="token operator">&lt;</span>xs:element name<span class="token operator">=</span><span class="token string">"ra-entity"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>xs:complexType<span class="token operator">></span>
      <span class="token operator">&lt;</span>xs:sequence<span class="token operator">></span>
        <span class="token operator">&lt;</span>xs:element ref<span class="token operator">=</span><span class="token string">"properties"</span> maxOccurs<span class="token operator">=</span><span class="token string">"1"</span> minOccurs<span class="token operator">=</span><span class="token string">"0"</span>/<span class="token operator">></span>
        <span class="token operator">&lt;</span>xs:element ref<span class="token operator">=</span><span class="token string">"ra-link"</span> maxOccurs<span class="token operator">=</span><span class="token string">"unbounded"</span> minOccurs<span class="token operator">=</span><span class="token string">"0"</span>/<span class="token operator">></span>
      <span class="token operator">&lt;</span>/xs:sequence<span class="token operator">></span>
      <span class="token operator">&lt;</span>xs:attribute name<span class="token operator">=</span><span class="token string">"resource-adaptor-id"</span> type<span class="token operator">=</span><span class="token string">"xs:string"</span> use<span class="token operator">=</span><span class="token string">"required"</span> /<span class="token operator">></span>
      <span class="token operator">&lt;</span>xs:attribute name<span class="token operator">=</span><span class="token string">"entity-name"</span> type<span class="token operator">=</span><span class="token string">"xs:string"</span> use<span class="token operator">=</span><span class="token string">"required"</span> /<span class="token operator">></span>
    <span class="token operator">&lt;</span>/xs:complexType<span class="token operator">></span>
  <span class="token operator">&lt;</span>/xs:element<span class="token operator">></span>

  <span class="token operator">&lt;</span>xs:element name<span class="token operator">=</span><span class="token string">"ra-link"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>xs:complexType<span class="token operator">></span>
      <span class="token operator">&lt;</span>xs:attribute name<span class="token operator">=</span><span class="token string">"name"</span> type<span class="token operator">=</span><span class="token string">"xs:string"</span> use<span class="token operator">=</span><span class="token string">"required"</span> /<span class="token operator">></span>
    <span class="token operator">&lt;</span>/xs:complexType<span class="token operator">></span>
  <span class="token operator">&lt;</span>/xs:element<span class="token operator">></span>
<span class="token operator">&lt;</span>/xs:schema<span class="token operator">></span></code></pre>
<pre class=" language-bash"><code class="language-bash"><span class="token operator">&lt;</span>ra-entity
    resource-adaptor-id<span class="token operator">=</span><span class="token string">"ResourceAdaptorID[name=JainSipResourceAdaptor,vendor=net.java.slee.sip,version=1.2]"</span>
    entity-name<span class="token operator">=</span><span class="token string">"SipRA"</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>properties<span class="token operator">></span>
        <span class="token operator">&lt;</span>property name<span class="token operator">=</span><span class="token string">"javax.sip.PORT"</span> type<span class="token operator">=</span><span class="token string">"java.lang.Integer"</span> value<span class="token operator">=</span><span class="token string">"5060"</span> /<span class="token operator">></span>
    <span class="token operator">&lt;</span>/properties<span class="token operator">></span>
    <span class="token operator">&lt;</span>ra-link name<span class="token operator">=</span><span class="token string">"SipRA"</span> /<span class="token operator">></span>
<span class="token operator">&lt;</span>/ra-entity<span class="token operator">></span></code></pre>
<p>The deploy-config.xml example above defines a resource adaptor entity named SipRa, to be created for the resource adaptor with id ResourceAdaptorID[name=JainSipResourceAdaptor, vendor=net.java.slee.sip, version=1.2], and with a single config property named javax.sip.PORT of type java.lang.Integer and with value 5060. Additionally, a resource adaptor link named SipRa should be bound to the resource adaptor entity.</p>
<p>After the deployable unit is installed, the resource adaptor entity is created, activated and the resource adaptor link is bound. Before the deployable unit is uninstalled, or the server is shutdown, the link is unbound, then the resource adaptor entity is deactivated, and finally the same resource adaptor entity is removed.</p>
<p>The SLEE includes a deploy-config.xml file at $JBOSS_HOME/server/profile_name/deploy/restcomm-slee, where profile_name is the server profile name, and that file can be used to specify RA entities and links too. If an RA is installed using the persistent deployer, then SLEE reads its own deploy-config.xml file, and if there are RA entities and/or links specified with same RA ID, then the operations to create/activate/deactivate/remove these are executed too, as if these were specified in the Deployable Unit’s own deploy-config.xml.</p>
<h3 id="4-2-Management-Consoles"><a href="#4-2-Management-Consoles" class="headerlink" title="4.2 Management Consoles"></a>4.2 Management Consoles</h3><h4 id="4-2-1-JConsole"><a href="#4-2-1-JConsole" class="headerlink" title="4.2.1. JConsole"></a>4.2.1. JConsole</h4><p>WildFly provides a script jconsole.sh that starts JConsole tool that gives quick access to all MBeans registered in the server, which includes the ones defined by the JAIN SLEE 1.1 specification. This script adds WildFly CLI tab for access to WildFly server information. Also you can acces to all MBeans in MBeans tab.</p>
<pre class=" language-bash"><code class="language-bash"><span class="token variable">$JBOSS_HOME</span>/bin/jconsole.sh</code></pre>
<h4 id="4-2-2-SLEE-Management-Console"><a href="#4-2-2-SLEE-Management-Console" class="headerlink" title="4.2.2. SLEE Management Console"></a>4.2.2. SLEE Management Console</h4><p>The JMX Console is simple but the MBeans operations were made considering its invocation by management clients, not people using browsers. The SLEE Management Console is a web application that provides high level management functionality for the SLEE, and comes pre-deployed in SLEE binary releases. To access this console point a web browser to <a href="http://ip:8080/slee-management-console" target="_blank" rel="noopener">http://ip:8080/slee-management-console</a>, where ip is the IP/Host the container is bound. Unless set during start up, the IP/Host will be 127.0.0.1/localhost by default.</p>
<p>Full documentation for this management tool can be found in docs/tools/slee-management-console directory.</p>
<h4 id="TWIDDLE-CLI"><a href="#TWIDDLE-CLI" class="headerlink" title="TWIDDLE CLI"></a>TWIDDLE CLI</h4><p>Console is graphic(web) based tools. Some deployments may require command line access to Restcomm. To aid such cases, Restcomm offers TWIDDLE based CLI. It allows to manage single instance (remote or local) of Restcomm server.</p>
<p>Restcomm JAIN SLEE binary release includes a TWIDDLE CLI in tools/twiddle, with standalone documentation on same path, but inside docs directory.</p>
<p>Connecting the Twiddle CLI using JMX to the JSLEE running in the same VM can be achieved as follows:</p>
<pre class=" language-bash"><code class="language-bash">./twiddle.sh --server<span class="token operator">=</span>service:jmx:remote+http://localhost:9990 activity -l --contexts<span class="token operator">=</span>true</code></pre>
<h2 id="五-Logging-Traces-and-Alarms"><a href="#五-Logging-Traces-and-Alarms" class="headerlink" title="五 Logging, Traces and Alarms"></a>五 Logging, Traces and Alarms</h2><p>略</p>
<h2 id="六-Restcomm-JAIN-SLEE-Clustering"><a href="#六-Restcomm-JAIN-SLEE-Clustering" class="headerlink" title="六 Restcomm JAIN SLEE Clustering"></a>六 Restcomm JAIN SLEE Clustering</h2><p>略</p>
<h2 id="七-Fault-Tolerant-Resource-Adaptor-API"><a href="#七-Fault-Tolerant-Resource-Adaptor-API" class="headerlink" title="七 Fault Tolerant Resource Adaptor API"></a>七 Fault Tolerant Resource Adaptor API</h2><p>略</p>
<h2 id="八-Resource-Adaptor-Activity-Replication"><a href="#八-Resource-Adaptor-Activity-Replication" class="headerlink" title="八 Resource Adaptor Activity Replication"></a>八 Resource Adaptor Activity Replication</h2><p>略</p>
<h2 id="九-Firing-Events-from-Java-EE-Applications"><a href="#九-Firing-Events-from-Java-EE-Applications" class="headerlink" title="九 Firing Events from Java EE Applications"></a>九 Firing Events from Java EE Applications</h2><h3 id="9-1-Remote-SLEE-Connection-Service"><a href="#9-1-Remote-SLEE-Connection-Service" class="headerlink" title="9.1 Remote SLEE Connection Service"></a>9.1 Remote SLEE Connection Service</h3><p>JAIN SLEE provides Remote SLEE Connection Service via RMI Registry lookup method for firing event.</p>
<p>The code is the same whether the SLEE container is in the same JVM or not.</p>
<pre class=" language-bash"><code class="language-bash">    // get local or remote RMI registry on rmiAddress:rmiPort
    Registry registry <span class="token operator">=</span> LocateRegistry.getRegistry<span class="token punctuation">(</span>this.rmiAddress, this.rmiPort<span class="token punctuation">)</span><span class="token punctuation">;</span>

    // get RMI stup throw lookup
    RemoteSleeConnectionService rmiStub <span class="token operator">=</span>
        <span class="token punctuation">(</span>RemoteSleeConnectionService<span class="token punctuation">)</span> registry.lookup<span class="token punctuation">(</span><span class="token string">"RemoteSleeConnectionService"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    // create activity handle
    ExternalActivityHandle handle <span class="token operator">=</span> rmiStub.createActivityHandle<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    // get event <span class="token function">type</span>
    EventTypeID requestType <span class="token operator">=</span> rmiStub.getEventTypeID<span class="token punctuation">(</span>eventName, eventVendor, eventVersion<span class="token punctuation">)</span><span class="token punctuation">;</span>

    CustomEvent customEvent <span class="token operator">=</span> new CustomEvent<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    customEvent.setMessage<span class="token punctuation">(</span>messagePassed<span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger.info<span class="token punctuation">(</span><span class="token string">"The event type is: "</span> + requestType<span class="token punctuation">)</span><span class="token punctuation">;</span>

    rmiStub.fireEvent<span class="token punctuation">(</span>customEvent, requestType, handle, null<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>

            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        Author:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://cyfreeman.github.io" rel="external nofollow noreferrer">陈杨</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        Link:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://cyfreeman.github.io/2020/04/16/jain-slee-jia-gou-shu-li/">https://cyfreeman.github.io/2020/04/16/jain-slee-jia-gou-shu-li/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        Reprint policy:
                    </i>
                </span>
                <span class="reprint-info">
                    All articles in this blog are used except for special statements
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    reprint polocy. If reproduced, please indicate source
                    <a href="https://cyfreeman.github.io" target="_blank">陈杨</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>Copied successfully, please follow the reprint policy of this article</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">more</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/backend/">
                                    <span class="chip bg-color">backend</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">建议可以写在转账留言里^_^</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>
            
        </div>
    </div>

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;Previous</div>
            <div class="card">
                <a href="/2020/04/19/java-zhi-maven-yu-ant-xiang-jie/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/0.jpg" class="responsive-img" alt="java之maven与ant详解">
                        
                        <span class="card-title">java之maven与ant详解</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            一、maven技术_ant和分布式介绍1.1 ant1、ant和maven都是项目构建工具2、在项目运行中，项目和项目之间产生关系，导入包，用ant来搞的
1.2 分布式1、传统项目部署：    1）新建一个项目，通过不同的包来区分不同的模
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2020-04-19
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/backend/" class="post-category">
                                    backend
                                </a>
                            
                            <a href="/categories/systemarchitecture/" class="post-category">
                                    systemarchitecture
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/backend/">
                        <span class="chip bg-color">backend</span>
                    </a>
                    
                    <a href="/tags/systemarchitecture/">
                        <span class="chip bg-color">systemarchitecture</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                Next&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2020/04/16/ussd-wang-guan-jia-gou-shu-li/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/22.jpg" class="responsive-img" alt="USSD网关架构梳理">
                        
                        <span class="card-title">USSD网关架构梳理</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            一、总体介绍1、The platform is easy-to-install and easy-to-deploy allowing you to have the Gateway set up and configured very q
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-04-16
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/systemarchitecture/" class="post-category">
                                    systemarchitecture
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/systemarchitecture/">
                        <span class="chip bg-color">systemarchitecture</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;TOC</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>



    <footer class="page-footer bg-color">
    
    <div class="container row center-align" style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2020</span>
            <a href="https://cyfreeman.github.io" target="_blank">陈杨</a>
            |&nbsp;Powered by 
			<a href="https://cyfreeman.github.io" target="_blank">陈杨</a>
            <br>
			<span id="sitetime"></span>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                class="white-color">40.4k</span>&nbsp;字
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv" style='display:none'>
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv" style='display:none'>
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/cyfreeman" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:cywxm0118@163.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=380128581" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 380128581" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







</div>
    </div>
</footer>

<div class="progress-bar"></div>
<script language=javascript> 
	function siteTime() { 
		window.setTimeout("siteTime()", 1000); 
		var seconds = 1000; 
		var minutes = seconds * 60; 
		var hours = minutes * 60; 
		var days = hours * 24; 
		var years = days * 365; 
		var today = new Date(); 
		var todayYear = today.getFullYear(); 
		var todayMonth = today.getMonth() + 1; 
		var todayDate = today.getDate(); 
		var todayHour = today.getHours(); 
		var todayMinute = today.getMinutes(); 
		var todaySecond = today.getSeconds(); /* Date.UTC() -- 返回date对象距世界标准时间(UTC)1970年1月1日午夜之间的毫秒数(时间戳) year - 作为date对象的年份，为4位年份值 month - 0-11之间的整数，做为date对象的月份 day - 1-31之间的整数，做为date对象的天数 hours - 0(午夜24点)-23之间的整数，做为date对象的小时数 minutes - 0-59之间的整数，做为date对象的分钟数 seconds - 0-59之间的整数，做为date对象的秒数 microseconds - 0-999之间的整数，做为date对象的毫秒数 */ 
		var t1 = Date.UTC(2020, 03, 03, 00, 00, 00); //北京时间2018-2-13 00:00:00 
		var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond); 
		var diff = t2 - t1; 
		var diffYears = Math.floor(diff / years); 
		var diffDays = Math.floor((diff / days) - diffYears * 365); 
		var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours); 
		var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) / minutes); 
		var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours - diffMinutes * minutes) / seconds); 
		document.getElementById("sitetime").innerHTML = "本站已运行 " +diffYears+" 年 "+diffDays + " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒"; 
	}/*因为建站时间还没有一年，就将之注释掉了。需要的可以取消*/ 
	siteTime(); 
</script>
<script> 
	$(document).ready(function () { 
		var int = setInterval(fixCount, 50); // 50ms周期检测函数 
		var pvcountOffset = 80000; // 初始化首次数据 
		var uvcountOffset = 20000; 
		function fixCount() { 
		if (document.getElementById("busuanzi_container_site_pv").style.display != "none") { 
			$("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + pvcountOffset); 
			clearInterval(int); 
		} 
		if ($("#busuanzi_container_site_pv").css("display") != "none") { 
			$("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html()) + uvcountOffset); // 加上初始数据 
			clearInterval(int); // 停止检测 
		} 
		} 
	}); 
</script>

    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;Search</span>
            <input type="search" id="searchInput" name="s" placeholder="Please enter a search keyword"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->


    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    

    

    
    <script type="text/javascript" src="/libs/background/ribbon-dynamic.js" async="async"></script>
    
    
    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
<script type="text/javascript"> 
var OriginTitile = document.title, st; 
document.addEventListener("visibilitychange", function () { 
document.hidden ? (document.title = "轻狼‘s blog，默默努力中。。。", clearTimeout(st)) : (document.title = "轻狼‘s blog welcome u !", st = setTimeout(function () { document.title = OriginTitile }, 3e3)) }) 
</script>
